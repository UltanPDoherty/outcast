mu = list(c(-1, 0), c(+1, -1), c(+1, +1)),
sigma = list(diag(c(0.2, 4 * 0.2)), diag(c(0.2, 0.2)), diag(c(0.2, 0.2))),
outlier_num = 40, seed = 123, crit_val = 0.9999,
unif_range_multiplier = 1.5
)
ombc_gmm_p2g3 <- ombc_gmm(gmm_p2g3[, 1:2], comp_num = 3, max_out = 80)
par(mfrow = c(1, 2))
plot(0:80, ombc_gmm_p2g3$distrib_diffs, type = "l")
abline(v = ombc_gmm_p2g3$outlier_num)
plot(gmm_p2g3[, 1:2], col = ombc_gmm_p2g3$labels,
pch = 1 + gmm_p2g3[, 3])
par(mfrow = c(1, 1))
plot(gmm_p2g3[, 1:2], col = 1 + ombc_gmm_p2g3$labels,
pch = 1 + gmm_p2g3[, 3])
par(mfrow = c(1, 2))
plot(0:80, ombc_gmm_p2g3$distrib_diffs, type = "l")
abline(v = ombc_gmm_p2g3$outlier_num)
plot(gmm_p2g3[, 1:2], col = 1 + ombc_gmm_p2g3$labels,
pch = 1 + gmm_p2g3[, 3])
par(mfrow = c(1, 1))
load_all()
ombc_gmm_p2g3_new <- ombc_gmm(gmm_p2g3[, 1:2], comp_num = 3, max_out = 80)
par(mfrow = c(1, 2))
plot(0:80, ombc_gmm_p2g3_new$distrib_diffs, type = "l")
abline(v = ombc_gmm_p2g3_new$outlier_num)
plot(gmm_p2g3[, 1:2], col = 1 + ombc_gmm_p2g3_new$labels,
pch = 1 + gmm_p2g3[, 3])
max(ombc_gmm_p2g3$distrib_diffs - ombc_gmm_p2g3_new$distrib_diffs)
min(ombc_gmm_p2g3$distrib_diffs - ombc_gmm_p2g3_new$distrib_diffs)
sum(ombc_gmm_p2g3$distrib_diffs !- ombc_gmm_p2g3_new$distrib_diffs)
sum(ombc_gmm_p2g3$distrib_diffs != ombc_gmm_p2g3_new$distrib_diffs)
sum(ombc_gmm_p2g3$labels != ombc_gmm_p2g3_new$labels)
document()
check()
rename_files("distrib_diff_lcwm", "distrib_diff")
document()
check()
load_all()
data.frame(
outliers_removed = 0:100,
distrib_diffs = ombc_lcwm_p1g2_x_and_y$distrib_diffs,
outlier_num = ombc_lcwm_p1g2_x_and_y$outlier_num
) |>
ggplot(aes(x = outliers_removed, y = distrib_diffs)) +
geom_line() +
geom_point() +
geom_vline(aes(xintercept = outlier_num)) +
labs(x = "Number of Potential Outliers Removed")
lcwm_p1g2_x_and_y <- simulate_lcwm(
n = c(1000, 1000),
mu = list(c(-1), c(+1)),
sigma = list(as.matrix(0.2), as.matrix(0.2)),
beta = list(c(1, 0), c(1, 3)),
error_sd = c(1, 1),
outlier_num = c(25, 25),
outlier_type = "x_and_y",
seed = 123,
crit_val = 0.9999,
range_multipliers = c(2, 2)
)
ombc_lcwm_p1g2_x_and_y <- ombc_lcwm(
xy = lcwm_p1g2_x_and_y,
x = lcwm_p1g2_x_and_y$X1,
y_formula = Y ~ X1,
comp_num = 2,
max_out = 100,
mnames = "V",
seed = 123,
outlier_type = "x_and_y"
)
data.frame(
outliers_removed = 0:100,
distrib_diffs = ombc_lcwm_p1g2_x_and_y$distrib_diffs,
outlier_num = ombc_lcwm_p1g2_x_and_y$outlier_num
) |>
ggplot(aes(x = outliers_removed, y = distrib_diffs)) +
geom_line() +
geom_point() +
geom_vline(aes(xintercept = outlier_num)) +
labs(x = "Number of Potential Outliers Removed")
lcwm_p1g2_x_and_y |>
ggplot(aes(
x = X1, y = Y,
colour = as.factor(ombc_lcwm_p1g2_x_and_y$labels),
shape = as.factor(G)
)) +
geom_point() +
geom_abline(aes(
intercept = ombc_lcwm_p1g2_x_and_y$final_cwm$models[[1]]$GLModel$comp.1$model$coefficients[1],
slope = ombc_lcwm_p1g2_x_and_y$final_cwm$models[[1]]$GLModel$comp.1$model$coefficients[2]),
linetype = "dashed"
) +
geom_abline(aes(
intercept = ombc_lcwm_p1g2_x_and_y$final_cwm$models[[1]]$GLModel$comp.2$model$coefficients[1],
slope = ombc_lcwm_p1g2_x_and_y$final_cwm$models[[1]]$GLModel$comp.2$model$coefficients[2]),
linetype = "dashed"
) +
geom_abline(aes(intercept = 1, slope = 0)) +
geom_abline(aes(intercept = 1, slope = 3)) +
labs(colour = "outlierMBC", shape = "Simulation") +
ggokabeito::scale_colour_okabe_ito(order = c(9, 1, 2))
data.frame(
outliers_removed = 0:100,
distrib_diffs = ombc_lcwm_p1g2_x_and_y$distrib_diffs,
outlier_num = ombc_lcwm_p1g2_x_and_y$outlier_num
) |>
ggplot(aes(x = outliers_removed, y = distrib_diffs)) +
geom_line() +
geom_point() +
geom_vline(aes(xintercept = outlier_num)) +
labs(x = "Number of Potential Outliers Removed")
lcwm_p1g2_x_and_y |>
ggplot(aes(
x = X1, y = Y,
colour = as.factor(ombc_lcwm_p1g2_x_and_y$labels),
shape = as.factor(G)
)) +
geom_point() +
geom_abline(aes(
intercept = ombc_lcwm_p1g2_x_and_y$final_cwm$models[[1]]$GLModel$comp.1$model$coefficients[1],
slope = ombc_lcwm_p1g2_x_and_y$final_cwm$models[[1]]$GLModel$comp.1$model$coefficients[2]),
linetype = "dashed",
colour = 1
) +
geom_abline(aes(
intercept = ombc_lcwm_p1g2_x_and_y$final_cwm$models[[1]]$GLModel$comp.2$model$coefficients[1],
slope = ombc_lcwm_p1g2_x_and_y$final_cwm$models[[1]]$GLModel$comp.2$model$coefficients[2]),
linetype = "dashed",
colour = 2
) +
geom_abline(aes(intercept = 1, slope = 0)) +
geom_abline(aes(intercept = 1, slope = 3)) +
labs(colour = "outlierMBC", shape = "Simulation") +
ggokabeito::scale_colour_okabe_ito(order = c(9, 1, 2))
data.frame(
outliers_removed = 0:100,
distrib_diffs = ombc_lcwm_p1g2_x_and_y$distrib_diffs,
outlier_num = ombc_lcwm_p1g2_x_and_y$outlier_num
) |>
ggplot(aes(x = outliers_removed, y = distrib_diffs)) +
geom_line() +
geom_point() +
geom_vline(aes(xintercept = outlier_num)) +
labs(x = "Number of Potential Outliers Removed")
lcwm_p1g2_x_and_y |>
ggplot(aes(
x = X1, y = Y,
colour = as.factor(ombc_lcwm_p1g2_x_and_y$labels),
shape = as.factor(G)
)) +
geom_point() +
geom_abline(aes(
intercept = ombc_lcwm_p1g2_x_and_y$final_cwm$models[[1]]$GLModel$comp.1$model$coefficients[1],
slope = ombc_lcwm_p1g2_x_and_y$final_cwm$models[[1]]$GLModel$comp.1$model$coefficients[2]),
linetype = "solid",
colour = ggokabeito::palette_okabe_ito(order = 1)
) +
geom_abline(aes(
intercept = ombc_lcwm_p1g2_x_and_y$final_cwm$models[[1]]$GLModel$comp.2$model$coefficients[1],
slope = ombc_lcwm_p1g2_x_and_y$final_cwm$models[[1]]$GLModel$comp.2$model$coefficients[2]),
linetype = "solid",
colour = ggokabeito::palette_okabe_ito(order = 2)
) +
geom_abline(aes(intercept = 1, slope = 0), linetype = "dashed") +
geom_abline(aes(intercept = 1, slope = 3), linetype = "dashed") +
labs(colour = "outlierMBC", shape = "Simulation") +
ggokabeito::scale_colour_okabe_ito(order = c(9, 1, 2))
coeffs1 <-
ombc_lcwm_p1g2_x_and_y$final_cwm$models[[1]]$GLModel$comp.1$model$coefficients
coeffs2 <-
ombc_lcwm_p1g2_x_and_y$final_cwm$models[[1]]$GLModel$comp.2$model$coefficients
lcwm_p1g2_y_only <- simulate_lcwm(
n = c(1000, 1000),
mu = list(c(-1), c(+1)),
sigma = list(as.matrix(0.2), as.matrix(0.2)),
beta = list(c(1, 0), c(1, 3)),
error_sd = c(1, 1),
outlier_num = c(25, 25),
outlier_type = "y_only",
seed = 123,
crit_val = 0.9999,
range_multipliers = c(2, 2)
)
ombc_lcwm_p1g2_y_only <- ombc_lcwm(
xy = lcwm_p1g2_y_only,
x = lcwm_p1g2_y_only$X1,
y_formula = Y ~ X1,
comp_num = 2,
max_out = 100,
mnames = "V",
seed = 123,
outlier_type = "y_only"
)
data.frame(
outliers_removed = 0:100,
distrib_diffs = ombc_lcwm_p1g2_y_only$distrib_diffs,
outlier_num = ombc_lcwm_p1g2_y_only$outlier_num
) |>
ggplot(aes(x = outliers_removed, y = distrib_diffs)) +
geom_line() +
geom_point() +
geom_vline(aes(xintercept = outlier_num)) +
labs(x = "Number of Potential Outliers Removed")
coeffs1 <-
ombc_lcwm_p1g2_y_only$final_cwm$models[[1]]$GLModel$comp.1$model$coefficients
coeffs2 <-
ombc_lcwm_p1g2_y_only$final_cwm$models[[1]]$GLModel$comp.2$model$coefficients
lcwm_p1g2_y_only |>
ggplot(aes(
x = X1, y = Y,
colour = as.factor(ombc_lcwm_p1g2_y_only$labels),
shape = as.factor(G)
)) +
geom_point() +
geom_abline(aes(
intercept = coeffs1[1], slope = coeffs2[2],
linetype = "solid", colour = ggokabeito::palette_okabe_ito(order = 1)
)) +
geom_abline(aes(
intercept = coeffs2[1], slope = coeffs2[2],
linetype = "solid", colour = ggokabeito::palette_okabe_ito(order = 1)
)) +
geom_abline(aes(intercept = 1, slope = 0), linetype = "dashed") +
geom_abline(aes(intercept = 1, slope = 3), linetype = "dashed") +
labs(colour = "outlierMBC", shape = "Simulation") +
ggokabeito::scale_colour_okabe_ito(order = c(9, 1, 2))
data.frame(
outliers_removed = 0:100,
distrib_diffs = ombc_lcwm_p1g2_y_only$distrib_diffs,
outlier_num = ombc_lcwm_p1g2_y_only$outlier_num
) |>
ggplot(aes(x = outliers_removed, y = distrib_diffs)) +
geom_line() +
geom_point() +
geom_vline(aes(xintercept = outlier_num)) +
labs(x = "Number of Potential Outliers Removed")
coeffs1 <-
ombc_lcwm_p1g2_y_only$final_cwm$models[[1]]$GLModel$comp.1$model$coefficients
coeffs2 <-
ombc_lcwm_p1g2_y_only$final_cwm$models[[1]]$GLModel$comp.2$model$coefficients
lcwm_p1g2_y_only |>
ggplot(aes(
x = X1, y = Y,
colour = as.factor(ombc_lcwm_p1g2_y_only$labels),
shape = as.factor(G)
)) +
geom_point() +
geom_abline(aes(
intercept = coeffs1[1], slope = coeffs2[2],
linetype = "solid", colour = ggokabeito::palette_okabe_ito(order = 1)
)) +
geom_abline(aes(
intercept = coeffs2[1], slope = coeffs2[2],
linetype = "solid", colour = ggokabeito::palette_okabe_ito(order = 2)
)) +
geom_abline(aes(intercept = 1, slope = 0), linetype = "dashed") +
geom_abline(aes(intercept = 1, slope = 3), linetype = "dashed") +
labs(colour = "outlierMBC", shape = "Simulation") +
ggokabeito::scale_colour_okabe_ito(order = c(9, 1, 2))
data.frame(
outliers_removed = 0:100,
distrib_diffs = ombc_lcwm_p1g2_y_only$distrib_diffs,
outlier_num = ombc_lcwm_p1g2_y_only$outlier_num
) |>
ggplot(aes(x = outliers_removed, y = distrib_diffs)) +
geom_line() +
geom_point() +
geom_vline(aes(xintercept = outlier_num)) +
labs(x = "Number of Potential Outliers Removed")
coeffs1 <-
ombc_lcwm_p1g2_y_only$final_cwm$models[[1]]$GLModel$comp.1$model$coefficients
coeffs2 <-
ombc_lcwm_p1g2_y_only$final_cwm$models[[1]]$GLModel$comp.2$model$coefficients
lcwm_p1g2_y_only |>
ggplot(aes(
x = X1, y = Y,
colour = as.factor(ombc_lcwm_p1g2_y_only$labels),
shape = as.factor(G)
)) +
geom_point() +
ggokabeito::scale_colour_okabe_ito(order = c(9, 1, 2)) +
geom_abline(aes(
intercept = coeffs1[1], slope = coeffs2[2],
linetype = "solid", colour = ggokabeito::palette_okabe_ito(order = 1)
)) +
geom_abline(aes(
intercept = coeffs2[1], slope = coeffs2[2],
linetype = "solid", colour = ggokabeito::palette_okabe_ito(order = 2)
)) +
geom_abline(aes(intercept = 1, slope = 0), linetype = "dashed") +
geom_abline(aes(intercept = 1, slope = 3), linetype = "dashed") +
labs(colour = "outlierMBC", shape = "Simulation")
data.frame(
outliers_removed = 0:100,
distrib_diffs = ombc_lcwm_p1g2_y_only$distrib_diffs,
outlier_num = ombc_lcwm_p1g2_y_only$outlier_num
) |>
ggplot(aes(x = outliers_removed, y = distrib_diffs)) +
geom_line() +
geom_point() +
geom_vline(aes(xintercept = outlier_num)) +
labs(x = "Number of Potential Outliers Removed")
coeffs1 <-
ombc_lcwm_p1g2_y_only$final_cwm$models[[1]]$GLModel$comp.1$model$coefficients
coeffs2 <-
ombc_lcwm_p1g2_y_only$final_cwm$models[[1]]$GLModel$comp.2$model$coefficients
lcwm_p1g2_y_only |>
ggplot(aes(
x = X1, y = Y,
colour = as.factor(ombc_lcwm_p1g2_y_only$labels),
shape = as.factor(G)
)) +
geom_point() +
ggokabeito::scale_colour_okabe_ito(order = c(9, 1, 2)) +
# geom_abline(aes(
#   intercept = coeffs1[1], slope = coeffs2[2],
#   linetype = "solid", colour = ggokabeito::palette_okabe_ito(order = 1)
# )) +
# geom_abline(aes(
#   intercept = coeffs2[1], slope = coeffs2[2],
#   linetype = "solid", colour = ggokabeito::palette_okabe_ito(order = 2)
# )) +
# geom_abline(aes(intercept = 1, slope = 0), linetype = "dashed") +
# geom_abline(aes(intercept = 1, slope = 3), linetype = "dashed") +
labs(colour = "outlierMBC", shape = "Simulation")
data.frame(
outliers_removed = 0:100,
distrib_diffs = ombc_lcwm_p1g2_y_only$distrib_diffs,
outlier_num = ombc_lcwm_p1g2_y_only$outlier_num
) |>
ggplot(aes(x = outliers_removed, y = distrib_diffs)) +
geom_line() +
geom_point() +
geom_vline(aes(xintercept = outlier_num)) +
labs(x = "Number of Potential Outliers Removed")
coeffs1 <-
ombc_lcwm_p1g2_y_only$final_cwm$models[[1]]$GLModel$comp.1$model$coefficients
coeffs2 <-
ombc_lcwm_p1g2_y_only$final_cwm$models[[1]]$GLModel$comp.2$model$coefficients
lcwm_p1g2_y_only |>
ggplot(aes(
x = X1, y = Y,
colour = as.factor(ombc_lcwm_p1g2_y_only$labels),
shape = as.factor(G)
)) +
geom_point() +
ggokabeito::scale_colour_okabe_ito(order = c(9, 1, 2)) +
# geom_abline(aes(
#   intercept = coeffs1[1], slope = coeffs2[2],
#   linetype = "solid", colour = ggokabeito::palette_okabe_ito(order = 1)
# )) +
# geom_abline(aes(
#   intercept = coeffs2[1], slope = coeffs2[2],
#   linetype = "solid", colour = ggokabeito::palette_okabe_ito(order = 2)
# )) +
geom_abline(aes(intercept = 1, slope = 0), linetype = "dashed") +
geom_abline(aes(intercept = 1, slope = 3), linetype = "dashed") +
labs(colour = "outlierMBC", shape = "Simulation")
data.frame(
outliers_removed = 0:100,
distrib_diffs = ombc_lcwm_p1g2_y_only$distrib_diffs,
outlier_num = ombc_lcwm_p1g2_y_only$outlier_num
) |>
ggplot(aes(x = outliers_removed, y = distrib_diffs)) +
geom_line() +
geom_point() +
geom_vline(aes(xintercept = outlier_num)) +
labs(x = "Number of Potential Outliers Removed")
coeffs1 <-
ombc_lcwm_p1g2_y_only$final_cwm$models[[1]]$GLModel$comp.1$model$coefficients
coeffs2 <-
ombc_lcwm_p1g2_y_only$final_cwm$models[[1]]$GLModel$comp.2$model$coefficients
lcwm_p1g2_y_only |>
ggplot(aes(
x = X1, y = Y,
colour = as.factor(ombc_lcwm_p1g2_y_only$labels),
shape = as.factor(G)
)) +
geom_point() +
ggokabeito::scale_colour_okabe_ito(order = c(9, 1, 2)) +
geom_abline(
aes(intercept = coeffs1[1], slope = coeffs2[2]),
linetype = "solid", colour = ggokabeito::palette_okabe_ito(order = 1)
) +
geom_abline(
aes(intercept = coeffs2[1], slope = coeffs2[2]),
linetype = "solid", colour = ggokabeito::palette_okabe_ito(order = 2)
) +
geom_abline(aes(intercept = 1, slope = 0), linetype = "dashed") +
geom_abline(aes(intercept = 1, slope = 3), linetype = "dashed") +
labs(colour = "outlierMBC", shape = "Simulation")
coeffs <-
ombc_lcwm_p1g1_y_only$final_cwm$models[[1]]$GLModel$comp.1$model$coefficients
document()
check()
?ombc_gmm
document()
check()
lintr:::addin_lint_package()
lintr:::addin_lint_package()
styler:::style_active_pkg()
document()
library(devtools)
document()
check()
ombc_p1 <- simulate_lcwm(
n = c(1000, 1000),
mu = list(c(-1), c(+1)),
sigma = list(as.matrix(0.2), as.matrix(0.2)),
beta = list(c(1, 0), c(1, 3)),
error_sd = c(1, 1),
outlier_num = c(25, 25),
outlier_type = "x_and_y",
seed = 123,
crit_val = 0.9999,
range_multipliers = c(1.5, 2)
)
ombc_p1_lcwm <- ombc_lcwm(
xy = ombc_p1[, -3],
x = ombc_p1$X1,
y_formula = Y ~ X1,
comp_num = 2,
max_out = 100,
mnames = "V",
seed = 123,
outlier_type = "ultan"
)
document()
check()
?distrib_diff_lcwm
load_all()
gmm_p2g3 <- simulate_gmm(
n = c(2000, 1000, 1000),
mu = list(c(-1, 0), c(+1, -1), c(+1, +1)),
sigma = list(diag(c(0.2, 4 * 0.2)), diag(c(0.2, 0.2)), diag(c(0.2, 0.2))),
outlier_num = 40, seed = 123, crit_val = 0.9999,
range_multiplier = 1.5
)
ombc_gmm_p2g3 <- ombc_gmm(gmm_p2g3[, 1:2], comp_num = 3, max_out = 80)
lcwm_p1 <- simulate_lcwm(
n = c(1000, 1000),
mu = list(c(-1), c(+1)),
sigma = list(as.matrix(0.2), as.matrix(0.2)),
beta = list(c(1, 0), c(1, 3)),
error_sd = c(1, 1),
outlier_num = c(25, 25),
outlier_type = "x_and_y",
seed = 123,
crit_val = 0.9999,
range_multipliers = c(1.5, 2)
)
ombc_p1_lcwm <- ombc_lcwm(
xy = lcwm_p1[, -3],
x = lcwm_p1$X1,
y_formula = Y ~ X1,
comp_num = 2,
max_out = 100,
mnames = "V",
seed = 123
)
plot(lcwm_p1[, c("X1", "Y")], pch = ombc_p1$G + 1, col = ombc_p1_lcwm$labels)
plot(lcwm_p1[, c("X1", "Y")], pch = ombc_p1$G + 1, col = ombc_p1_lcwm$labels + 1)
load_all()
ombc_p1_lcwm <- ombc_lcwm(
xy = lcwm_p1[, -3],
x = lcwm_p1$X1,
y_formula = Y ~ X1,
comp_num = 2,
max_out = 100,
mnames = "V",
seed = 123
)
class(mu)
document()
check()
document()
check()
plot(lcwm_p1, pch = ombc_p1$G + 1, col = ombc_p1_lcwm$labels + 1)
lcwm_p1[, !G]
lcwm_p1[, !c(G)]
lcwm_p1[, -c(G)]
lcwm_p1[, -c("G")]
document()
check()
install()
?ombc_gmm
install()
?ombc_gmm
library(outlierMBC)
?ombc_gmm
remotes::install_github("UltanPDoherty/outlierMBC")
detach("package:outlierMBC", unload = TRUE)
remotes::install_github("UltanPDoherty/outlierMBC")
library(outlierMBC)
?ombc_gmm
library(outlierMBC)
?ombc_gmm
load_all()
library(devtools)
load_all()
?ombc_gmm
document()
load_all()
?ombc_gmm
document()
library(devtools)
document()
check()
document()
check()
document()
check()
