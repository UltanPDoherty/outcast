idio_p6nE_outs0 <- readRDS(paste0(workdir, "/idio_p6nE_outs.rds"))
names(idio_p6nE_outs0) <- paste0("m", 1:5)
idio_p6nE_outs <- list_flatten(idio_p6nE_outs0)
idio_p6nE_outnum <- vapply(
idio_p6nE_outs, FUN.VALUE = double(1L),
function(x) sum(x == 1)
)
p6nE_outnum <- data.frame(
model = rep(paste0("M", 1:5), each = 10),
seed = rep(1:10, times = 5),
Outlier_Number = idio_p6nE_outnum
)
p6nE_outnum |>
ggplot() +
geom_boxplot(aes(x = model, y = Outlier_Number, fill = model)) +
geom_hline(yintercept = 100, linetype = "dashed")
tclust_p6nE_fp <- vapply(
tclust_p6nE_outs, FUN.VALUE = double(1L),
function(x) sum(labels_nE != 0 & x == 0) / 1000
)
idio_p6nE_fp <- vapply(
idio_p6nE_outs, FUN.VALUE = double(1L),
function(x) sum(labels_nE != 0 & x == 1) / 1000
)
p6nE_fp_wide <- data.frame(
model = rep(paste0("M", 1:5), each = 10),
seed = rep(1:10, times = 5),
tclust = tclust_p6nE_fp,
idio = idio_p6nE_fp
)
p6nE_fp <- p6nE_fp_wide |>
pivot_longer(cols = c("tclust", "idio"),
values_to = "FP",
names_to = "Method")
tclust_p6nE_fn <- vapply(
tclust_p6nE_outs, FUN.VALUE = double(1L),
function(x) sum(labels_nE == 0 & x != 0) / 1000
)
idio_p6nE_fn <- vapply(
idio_p6nE_outs, FUN.VALUE = double(1L),
function(x) sum(labels_nE == 0 & x != 1) / 1000
)
p6nE_fn_wide <- data.frame(
model = rep(paste0("M", 1:5), each = 10),
seed = rep(1:10, times = 5),
tclust = tclust_p6nE_fn,
idio = idio_p6nE_fn
)
p6nE_fn <- p6nE_fn_wide |>
pivot_longer(cols = c("tclust", "idio"),
values_to = "FN",
names_to = "Method")
p6nE_mean_fpfn <- bind_cols(p6nE_fp, FN = p6nE_fn$FN) |>
group_by(model, Method) |>
summarise(mean_FP = mean(FP), mean_FN = mean(FN)) |>
pivot_longer(cols = c("mean_FP", "mean_FN"),
names_to = "whichF", values_to = "mean_FPFN")
write_csv(p6nE_mean_fpfn, paste0(workdir, "/p6nE_mean_fpfn.csv"))
p6nE_mean_fpfn |>
ggplot() +
geom_col(aes(x = Method, y = 100 * mean_FPFN, fill = whichF),
position = "stack") +
facet_wrap(~ model, nrow = 1) +
labs(fill = "Measure", y = "Error Rate")
p6nE_mean_fpfn |>
ggplot() +
geom_col(aes(x = Method, y = 100 * mean_FPFN, fill = whichF),
position = "stack") +
facet_wrap(~ model, nrow = 1) +
labs(fill = "Measure", y = "Error Rate")
workdir <- paste0(
"C:/Users/Administrator/OneDrive - Trinity College Dublin/PhD/Programming",
"/idioClust_demos/oclust_replicate_0.999"
)
library(tidyverse)
labels_nU <- c(rep(1, 180), rep(2, 360), rep(3, 360), rep(0, 100))
tclust_p6nU_outs0 <- readRDS(paste0(workdir, "/tclust_p6nU_outs.rds"))
names(tclust_p6nU_outs0) <- paste0("m", 1:5)
tclust_p6nU_outs <- list_flatten(tclust_p6nU_outs0)
idio_p6nU_outs0 <- readRDS(paste0(workdir, "/idio_p6nU_outs.rds"))
names(idio_p6nU_outs0) <- paste0("m", 1:5)
idio_p6nU_outs <- list_flatten(idio_p6nU_outs0)
idio_p6nU_outnum <- vapply(
idio_p6nU_outs, FUN.VALUE = double(1L),
function(x) sum(x == 1)
)
p6nU_outnum <- data.frame(
model = rep(paste0("M", 1:5), each = 10),
seed = rep(1:10, times = 5),
Outlier_Number = idio_p6nU_outnum
)
p6nU_outnum |>
ggplot() +
geom_boxplot(aes(x = model, y = Outlier_Number, fill = model)) +
geom_hline(yintercept = 100, linetype = "dashed")
tclust_p6nU_fp <- vapply(
tclust_p6nU_outs, FUN.VALUE = double(1L),
function(x) sum(labels_nU != 0 & x == 0) / 1000
)
idio_p6nU_fp <- vapply(
idio_p6nU_outs, FUN.VALUE = double(1L),
function(x) sum(labels_nU != 0 & x == 1) / 1000
)
p6nU_fp_wide <- data.frame(
model = rep(paste0("M", 1:5), each = 10),
seed = rep(1:10, times = 5),
tclust = tclust_p6nU_fp,
idio = idio_p6nU_fp
)
p6nU_fp <- p6nU_fp_wide |>
pivot_longer(cols = c("tclust", "idio"),
values_to = "FP",
names_to = "Method")
tclust_p6nU_fn <- vapply(
tclust_p6nU_outs, FUN.VALUE = double(1L),
function(x) sum(labels_nU == 0 & x != 0) / 1000
)
idio_p6nU_fn <- vapply(
idio_p6nU_outs, FUN.VALUE = double(1L),
function(x) sum(labels_nU == 0 & x != 1) / 1000
)
p6nU_fn_wide <- data.frame(
model = rep(paste0("M", 1:5), each = 10),
seed = rep(1:10, times = 5),
tclust = tclust_p6nU_fn,
idio = idio_p6nU_fn
)
p6nU_fn <- p6nU_fn_wide |>
pivot_longer(cols = c("tclust", "idio"),
values_to = "FN",
names_to = "Method")
p6nU_mean_fpfn <- bind_cols(p6nU_fp, FN = p6nU_fn$FN) |>
group_by(model, Method) |>
summarise(mean_FP = mean(FP), mean_FN = mean(FN)) |>
pivot_longer(cols = c("mean_FP", "mean_FN"),
names_to = "whichF", values_to = "mean_FPFN")
write_csv(p6nU_mean_fpfn, paste0(workdir, "/p6nU_mean_fpfn.csv"))
p6nU_mean_fpfn |>
ggplot() +
geom_col(aes(x = Method, y = 100 * mean_FPFN, fill = whichF),
position = "stack") +
facet_wrap(~ model, nrow = 1) +
labs(fill = "Measure", y = "Error Rate")
plot(samps_p2nE$m1$s1)
plot(samps_p2nE$m1$s1, col = labels_nE)
plot(samps_p2nE$m1$s1, col = labels_nE + 1)
plot(samps_p2nE$m2$s1, col = labels_nE + 1)
plot(samps_p2nE$m3$s1, col = labels_nE + 1)
plot(samps_p2nE$m4$s1, col = labels_nE + 1)
plot(samps_p2nE$m5$s1, col = labels_nE + 1)
plot(samps_p2nE$m5$s2, col = labels_nE + 1)
plot(samps_p2nE$m5$s3, col = labels_nE + 1)
plot(samps_p2nE$m5$s4, col = labels_nE + 1)
plot(samps_p2nE$m5$s5, col = labels_nE + 1)
plot(samps_p2nE$m5$s6, col = labels_nE + 1)
plot(samps_p2nE$m5$s7, col = labels_nE + 1)
plot(samps_p2nE$m5$s8, col = labels_nE + 1)
plot(samps_p2nE$m5$s9, col = labels_nE + 1)
plot(samps_p2nE$m5$s10, col = labels_nE + 1)
workdir <- paste0(
"C:/Users/Administrator/OneDrive - Trinity College Dublin/PhD/Programming",
"/idioClust_demos/oclust_replicate"
)
library(tidyverse)
labels_nU <- c(rep(1, 180), rep(2, 360), rep(3, 360), rep(0, 100))
tclust_p6nU_outs0 <- readRDS(paste0(workdir, "/tclust_p6nU_outs.rds"))
names(tclust_p6nU_outs0) <- paste0("m", 1:5)
tclust_p6nU_outs <- list_flatten(tclust_p6nU_outs0)
idio_p6nU_outs0 <- readRDS(paste0(workdir, "/idio_p6nU_outs.rds"))
names(idio_p6nU_outs0) <- paste0("m", 1:5)
idio_p6nU_outs <- list_flatten(idio_p6nU_outs0)
idio_p6nU_outnum <- vapply(
idio_p6nU_outs, FUN.VALUE = double(1L),
function(x) sum(x == 1)
)
p6nU_outnum <- data.frame(
model = rep(paste0("M", 1:5), each = 10),
seed = rep(1:10, times = 5),
Outlier_Number = idio_p6nU_outnum
)
p6nU_outnum |>
ggplot() +
geom_boxplot(aes(x = model, y = Outlier_Number, fill = model)) +
geom_hline(yintercept = 100, linetype = "dashed")
tclust_p6nU_fp <- vapply(
tclust_p6nU_outs, FUN.VALUE = double(1L),
function(x) sum(labels_nU != 0 & x == 0) / 1000
)
idio_p6nU_fp <- vapply(
idio_p6nU_outs, FUN.VALUE = double(1L),
function(x) sum(labels_nU != 0 & x == 1) / 1000
)
p6nU_fp_wide <- data.frame(
model = rep(paste0("M", 1:5), each = 10),
seed = rep(1:10, times = 5),
tclust = tclust_p6nU_fp,
idio = idio_p6nU_fp
)
p6nU_fp <- p6nU_fp_wide |>
pivot_longer(cols = c("tclust", "idio"),
values_to = "FP",
names_to = "Method")
tclust_p6nU_fn <- vapply(
tclust_p6nU_outs, FUN.VALUE = double(1L),
function(x) sum(labels_nU == 0 & x != 0) / 1000
)
idio_p6nU_fn <- vapply(
idio_p6nU_outs, FUN.VALUE = double(1L),
function(x) sum(labels_nU == 0 & x != 1) / 1000
)
p6nU_fn_wide <- data.frame(
model = rep(paste0("M", 1:5), each = 10),
seed = rep(1:10, times = 5),
tclust = tclust_p6nU_fn,
idio = idio_p6nU_fn
)
p6nU_fn <- p6nU_fn_wide |>
pivot_longer(cols = c("tclust", "idio"),
values_to = "FN",
names_to = "Method")
p6nU_mean_fpfn <- bind_cols(p6nU_fp, FN = p6nU_fn$FN) |>
group_by(model, Method) |>
summarise(mean_FP = mean(FP), mean_FN = mean(FN)) |>
pivot_longer(cols = c("mean_FP", "mean_FN"),
names_to = "whichF", values_to = "mean_FPFN")
write_csv(p6nU_mean_fpfn, paste0(workdir, "/p6nU_mean_fpfn.csv"))
p6nU_mean_fpfn |>
ggplot() +
geom_col(aes(x = Method, y = 100 * mean_FPFN, fill = whichF),
position = "stack") +
facet_wrap(~ model, nrow = 1) +
labs(fill = "Measure", y = "Error Rate")
workdir <- paste0(
"C:/Users/Administrator/OneDrive - Trinity College Dublin/PhD/Programming",
"/idioClust_demos/oclust_replicate"
)
library(tidyverse)
labels_nU <- c(rep(1, 180), rep(2, 360), rep(3, 360), rep(0, 100))
tclust_p2nU_outs0 <- readRDS(paste0(workdir, "/tclust_p2nU_outs.rds"))
names(tclust_p2nU_outs0) <- paste0("m", 1:5)
tclust_p2nU_outs <- list_flatten(tclust_p2nU_outs0)
idio_p2nU_outs0 <- readRDS(paste0(workdir, "/idio_p2nU_outs.rds"))
names(idio_p2nU_outs0) <- paste0("m", 1:5)
idio_p2nU_outs <- list_flatten(idio_p2nU_outs0)
idio_p2nU_outnum <- vapply(
idio_p2nU_outs, FUN.VALUE = double(1L),
function(x) sum(x == 1)
)
p2nU_outnum <- data.frame(
model = rep(paste0("M", 1:5), each = 10),
seed = rep(1:10, times = 5),
Outlier_Number = idio_p2nU_outnum
)
p2nU_outnum |>
ggplot() +
geom_boxplot(aes(x = model, y = Outlier_Number, fill = model)) +
geom_hline(yintercept = 100, linetype = "dashed")
tclust_p2nU_fp <- vapply(
tclust_p2nU_outs, FUN.VALUE = double(1L),
function(x) sum(labels_nU != 0 & x == 0) / 1000
)
idio_p2nU_fp <- vapply(
idio_p2nU_outs, FUN.VALUE = double(1L),
function(x) sum(labels_nU != 0 & x == 1) / 1000
)
p2nU_fp_wide <- data.frame(
model = rep(paste0("M", 1:5), each = 10),
seed = rep(1:10, times = 5),
tclust = tclust_p2nU_fp,
idio = idio_p2nU_fp
)
p2nU_fp <- p2nU_fp_wide |>
pivot_longer(cols = c("tclust", "idio"),
values_to = "FP",
names_to = "Method")
tclust_p2nU_fn <- vapply(
tclust_p2nU_outs, FUN.VALUE = double(1L),
function(x) sum(labels_nU == 0 & x != 0) / 1000
)
idio_p2nU_fn <- vapply(
idio_p2nU_outs, FUN.VALUE = double(1L),
function(x) sum(labels_nU == 0 & x != 1) / 1000
)
p2nU_fn_wide <- data.frame(
model = rep(paste0("M", 1:5), each = 10),
seed = rep(1:10, times = 5),
tclust = tclust_p2nU_fn,
idio = idio_p2nU_fn
)
p2nU_fn <- p2nU_fn_wide |>
pivot_longer(cols = c("tclust", "idio"),
values_to = "FN",
names_to = "Method")
p2nU_mean_fpfn <- bind_cols(p2nU_fp, FN = p2nU_fn$FN) |>
group_by(model, Method) |>
summarise(mean_FP = mean(FP), mean_FN = mean(FN)) |>
pivot_longer(cols = c("mean_FP", "mean_FN"),
names_to = "whichF", values_to = "mean_FPFN")
write_csv(p2nU_mean_fpfn, paste0(workdir, "/p2nU_mean_fpfn.csv"))
p2nU_mean_fpfn |>
ggplot() +
geom_col(aes(x = Method, y = 100 * mean_FPFN, fill = whichF),
position = "stack") +
facet_wrap(~ model, nrow = 1) +
labs(fill = "Measure", y = "Error Rate")
workdir <- paste0(
"C:/Users/Administrator/OneDrive - Trinity College Dublin/PhD/Programming",
"/idioClust_demos/oclust_replicate"
)
library(tidyverse)
labels_nE <- c(rep(1, 300), rep(2, 300), rep(3, 300), rep(0, 100))
tclust_p6nE_outs0 <- readRDS(paste0(workdir, "/tclust_p6nE_outs.rds"))
names(tclust_p6nE_outs0) <- paste0("m", 1:5)
tclust_p6nE_outs <- list_flatten(tclust_p6nE_outs0)
idio_p6nE_outs0 <- readRDS(paste0(workdir, "/idio_p6nE_outs.rds"))
names(idio_p6nE_outs0) <- paste0("m", 1:5)
idio_p6nE_outs <- list_flatten(idio_p6nE_outs0)
idio_p6nE_outnum <- vapply(
idio_p6nE_outs, FUN.VALUE = double(1L),
function(x) sum(x == 1)
)
p6nE_outnum <- data.frame(
model = rep(paste0("M", 1:5), each = 10),
seed = rep(1:10, times = 5),
Outlier_Number = idio_p6nE_outnum
)
p6nE_outnum |>
ggplot() +
geom_boxplot(aes(x = model, y = Outlier_Number, fill = model)) +
geom_hline(yintercept = 100, linetype = "dashed")
tclust_p6nE_fp <- vapply(
tclust_p6nE_outs, FUN.VALUE = double(1L),
function(x) sum(labels_nE != 0 & x == 0) / 1000
)
idio_p6nE_fp <- vapply(
idio_p6nE_outs, FUN.VALUE = double(1L),
function(x) sum(labels_nE != 0 & x == 1) / 1000
)
p6nE_fp_wide <- data.frame(
model = rep(paste0("M", 1:5), each = 10),
seed = rep(1:10, times = 5),
tclust = tclust_p6nE_fp,
idio = idio_p6nE_fp
)
p6nE_fp <- p6nE_fp_wide |>
pivot_longer(cols = c("tclust", "idio"),
values_to = "FP",
names_to = "Method")
tclust_p6nE_fn <- vapply(
tclust_p6nE_outs, FUN.VALUE = double(1L),
function(x) sum(labels_nE == 0 & x != 0) / 1000
)
idio_p6nE_fn <- vapply(
idio_p6nE_outs, FUN.VALUE = double(1L),
function(x) sum(labels_nE == 0 & x != 1) / 1000
)
p6nE_fn_wide <- data.frame(
model = rep(paste0("M", 1:5), each = 10),
seed = rep(1:10, times = 5),
tclust = tclust_p6nE_fn,
idio = idio_p6nE_fn
)
p6nE_fn <- p6nE_fn_wide |>
pivot_longer(cols = c("tclust", "idio"),
values_to = "FN",
names_to = "Method")
p6nE_mean_fpfn <- bind_cols(p6nE_fp, FN = p6nE_fn$FN) |>
group_by(model, Method) |>
summarise(mean_FP = mean(FP), mean_FN = mean(FN)) |>
pivot_longer(cols = c("mean_FP", "mean_FN"),
names_to = "whichF", values_to = "mean_FPFN")
write_csv(p6nE_mean_fpfn, paste0(workdir, "/p6nE_mean_fpfn.csv"))
p6nE_mean_fpfn |>
ggplot() +
geom_col(aes(x = Method, y = 100 * mean_FPFN, fill = whichF),
position = "stack") +
facet_wrap(~ model, nrow = 1) +
labs(fill = "Measure", y = "Error Rate")
p2nE_mean_fpfn |>
ggplot() +
geom_col(aes(x = Method, y = 100 * mean_FPFN, fill = whichF),
position = "stack") +
facet_wrap(~ model, nrow = 1) +
labs(fill = "Measure", y = "Error Rate")
workdir <- paste0(
"C:/Users/Administrator/OneDrive - Trinity College Dublin/PhD/Programming",
"/idioClust_demos/oclust_replicate"
)
library(tidyverse)
labels_nE <- c(rep(1, 300), rep(2, 300), rep(3, 300), rep(0, 100))
tclust_p2nE_outs0 <- readRDS(paste0(workdir, "/tclust_p2nE_outs.rds"))
names(tclust_p2nE_outs0) <- paste0("m", 1:5)
tclust_p2nE_outs <- list_flatten(tclust_p2nE_outs0)
idio_p2nE_outs0 <- readRDS(paste0(workdir, "/idio_p2nE_outs.rds"))
names(idio_p2nE_outs0) <- paste0("m", 1:5)
idio_p2nE_outs <- list_flatten(idio_p2nE_outs0)
idio_p2nE_outnum <- vapply(
idio_p2nE_outs, FUN.VALUE = double(1L),
function(x) sum(x == 1)
)
p2nE_outnum <- data.frame(
model = rep(paste0("M", 1:5), each = 10),
seed = rep(1:10, times = 5),
Outlier_Number = idio_p2nE_outnum
)
p2nE_outnum |>
ggplot() +
geom_boxplot(aes(x = model, y = Outlier_Number, fill = model)) +
geom_hline(yintercept = 100, linetype = "dashed")
tclust_p2nE_fp <- vapply(
tclust_p2nE_outs, FUN.VALUE = double(1L),
function(x) sum(labels_nE != 0 & x == 0) / 1000
)
idio_p2nE_fp <- vapply(
idio_p2nE_outs, FUN.VALUE = double(1L),
function(x) sum(labels_nE != 0 & x == 1) / 1000
)
p2nE_fp_wide <- data.frame(
model = rep(paste0("M", 1:5), each = 10),
seed = rep(1:10, times = 5),
tclust = tclust_p2nE_fp,
idio = idio_p2nE_fp
)
p2nE_fp <- p2nE_fp_wide |>
pivot_longer(cols = c("tclust", "idio"),
values_to = "FP",
names_to = "Method")
tclust_p2nE_fn <- vapply(
tclust_p2nE_outs, FUN.VALUE = double(1L),
function(x) sum(labels_nE == 0 & x != 0) / 1000
)
idio_p2nE_fn <- vapply(
idio_p2nE_outs, FUN.VALUE = double(1L),
function(x) sum(labels_nE == 0 & x != 1) / 1000
)
p2nE_fn_wide <- data.frame(
model = rep(paste0("M", 1:5), each = 10),
seed = rep(1:10, times = 5),
tclust = tclust_p2nE_fn,
idio = idio_p2nE_fn
)
p2nE_fn <- p2nE_fn_wide |>
pivot_longer(cols = c("tclust", "idio"),
values_to = "FN",
names_to = "Method")
p2nE_mean_fpfn <- bind_cols(p2nE_fp, FN = p2nE_fn$FN) |>
group_by(model, Method) |>
summarise(mean_FP = mean(FP), mean_FN = mean(FN)) |>
pivot_longer(cols = c("mean_FP", "mean_FN"),
names_to = "whichF", values_to = "mean_FPFN")
write_csv(p2nE_mean_fpfn, paste0(workdir, "/p2nE_mean_fpfn.csv"))
p2nE_mean_fpfn |>
ggplot() +
geom_col(aes(x = Method, y = 100 * mean_FPFN, fill = whichF),
position = "stack") +
facet_wrap(~ model, nrow = 1) +
labs(fill = "Measure", y = "Error Rate")
source("C:/Users/Administrator/OneDrive - Trinity College Dublin/PhD/Programming/idioClust_demos/oclust_replicate/analyse_p2nE.R")
source("C:/Users/Administrator/OneDrive - Trinity College Dublin/PhD/Programming/idioClust_demos/oclust_replicate/analyse_p2nU.R")
source("C:/Users/Administrator/OneDrive - Trinity College Dublin/PhD/Programming/idioClust_demos/oclust_replicate/analyse_p6nE.R")
source("C:/Users/Administrator/OneDrive - Trinity College Dublin/PhD/Programming/idioClust_demos/oclust_replicate/analyse_p6nU.R")
p2nE_mean_fpfn |>
ggplot() +
geom_col(aes(x = Method, y = 100 * mean_FPFN, fill = whichF),
position = "stack") +
facet_wrap(~ model, nrow = 1) +
labs(fill = "Measure", y = "Error Rate")
p2nU_mean_fpfn |>
ggplot() +
geom_col(aes(x = Method, y = 100 * mean_FPFN, fill = whichF),
position = "stack") +
facet_wrap(~ model, nrow = 1) +
labs(fill = "Measure", y = "Error Rate")
p6nE_mean_fpfn |>
ggplot() +
geom_col(aes(x = Method, y = 100 * mean_FPFN, fill = whichF),
position = "stack") +
facet_wrap(~ model, nrow = 1) +
labs(fill = "Measure", y = "Error Rate")
p6nU_mean_fpfn |>
ggplot() +
geom_col(aes(x = Method, y = 100 * mean_FPFN, fill = whichF),
position = "stack") +
facet_wrap(~ model, nrow = 1) +
labs(fill = "Measure", y = "Error Rate")
install.packages("oclust")
?oclust::oclust
workdir <- paste0(
"C:/Users/Administrator/OneDrive - Trinity College Dublin/PhD/Programming",
"/idioClust_demos/oclust_replicate"
)
samps_p2nE <- readRDS(paste0(workdir, "/samps_p2nE.rds"))
seeds <- 1:10
oclust_p2nE_outs <- list()
oclust_p2nE_times <- list()
for (m in 1:5) {
oclust_p2nE_outs[[m]] <- list()
oclust_p2nE_times[[m]] <- list()
for (s in 1:10) {
set.seed(123)
oclust_p2nE_times[[m]][[s]] <- system.time(
oclust_p2nE_outs[[m]][[s]] <- oclust::oclust(
samps_p2nE[[m]][[s]],
G = 3,
maxO = 200
)$class
)
cat(paste0("oclust_p2nE: m = ", m, ", s = ", seeds[s], ".\n"))
}
names(oclust_p2nE_outs[[m]]) <- paste0("s", seeds)
names(oclust_p2nE_times[[m]]) <- paste0("s", seeds)
}
