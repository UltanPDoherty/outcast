sprintf("%.03f", round(s4n_gpcm_ari, 3)),
")"
)
)
par(mfrow = c(1, 1))
dev.off()
folder <- paste0(
"C:/Users/Administrator/OneDrive - Trinity College Dublin/PhD/Programming",
"/outlierMBC_demos"
)
s1n <- read.table(paste0(folder, "/uef_sipu_data/outlier_datasets/s1n.txt"))
s1n_label <- read.table(
paste0(folder, "/uef_sipu_data/outlier_datasets/s1n_label.txt")
) |> dplyr::pull()
ombc_s1n_123m500 <- readRDS(
paste0(folder, "/Removal_Density/ombc_s1n_123m500.rds")
)
s1n_ombc_rank <- ombc_s1n_123m500$outlier_rank
s1n_ombc_mindens <- ombc_s1n_123m500$min_dens
which.min(s1n_ombc_mindens)
folder <- paste0(
"C:/Users/Administrator/OneDrive - Trinity College Dublin/PhD/Programming",
"/outlierMBC_demos"
)
s2n <- read.table(paste0(folder, "/uef_sipu_data/outlier_datasets/s2n.txt"))
s2n_label <- read.table(
paste0(folder, "/uef_sipu_data/outlier_datasets/s2n_label.txt")
) |> dplyr::pull()
ombc_s2n_123m500 <- readRDS(
paste0(folder, "/Removal_Density/ombc_s2n_123m500.rds")
)
s2n_ombc_rank <- ombc_s2n_123m500$outlier_rank
s2n_ombc_mindens <- ombc_s2n_123m500$min_dens
which.min(s2n_ombc_mindens)
plot(s4n, col = ombc_s4n_123m500$labels[, 1])
ombc_s4n_123m500$outlier_num
matplot(0:500, ombc_s4n_123m500$distrib_diff_mat, type = "l")
?mclust::dens
?mclust::Mclust
mvtnorm
mvtnorm::dmvnorm()
?mvtnorm::dmvnorm
c(0, 1, 2)
!c(0, 1, 2)
c(0, 1, 2)[-1]
c(0, 1, 2)[-0]
c(0, 1, 2)[-4]
c(0, 1, 2)[-NULL]
c(0, 1, 2)[-Inf]
c(0, 1, 2)[-501]
load_all()
folder <- paste0(
"C:/Users/Administrator/OneDrive - Trinity College Dublin/PhD/Programming",
"/outlierMBC_demos"
)
s1n <- read.table(paste0(folder, "/uef_sipu_data/outlier_datasets/s1n.txt"))
ombc2_s1n_123m500_time <- system.time({
ombc2_s1n_123m500 <- ombc2_gmm(
x = s1n,
comp_num = 15,
max_out = 500,
mnames = "VVV",
seed = 123,
reinit_interval = 10,
print_interval = 10
)
ombc2_s1n_123m500_rev <- ombc2_gmm_reverse(
ombc_s1n_123m500,
x = s1n,
comp_num = 15,
max_out = 500,
mnames = "VVV",
seed = 123,
print_interval = 10
)
})
load_all()
ombc2_s1n_123m500_time <- system.time({
ombc2_s1n_123m500 <- ombc2_gmm(
x = s1n,
comp_num = 15,
max_out = 500,
mnames = "VVV",
seed = 123,
reinit_interval = 10,
print_interval = 10
)
ombc2_s1n_123m500_rev <- ombc2_gmm_reverse(
ombc_s1n_123m500,
x = s1n,
comp_num = 15,
max_out = 500,
mnames = "VVV",
seed = 123,
print_interval = 10
)
})
mix$best_model$model_objs[[1]]$mu[[1]]
mix$best_model$model_objs[[1]]$mu
mix
str(mix)
mix$best_model$model_obj
load_all()
ombc2_s1n_123m500_time <- system.time({
ombc2_s1n_123m500 <- ombc2_gmm(
x = s1n,
comp_num = 15,
max_out = 500,
mnames = "VVV",
seed = 123,
reinit_interval = 10,
print_interval = 10
)
ombc2_s1n_123m500_rev <- ombc2_gmm_reverse(
ombc_s1n_123m500,
x = s1n,
comp_num = 15,
max_out = 500,
mnames = "VVV",
seed = 123,
print_interval = 10
)
})
load_all()
ombc2_s1n_123m500_time <- system.time({
ombc2_s1n_123m500 <- ombc2_gmm(
x = s1n,
comp_num = 15,
max_out = 500,
mnames = "VVV",
seed = 123,
reinit_interval = 10,
print_interval = 10
)
ombc2_s1n_123m500_rev <- ombc2_gmm_reverse(
ombc_s1n_123m500,
x = s1n,
comp_num = 15,
max_out = 500,
mnames = "VVV",
seed = 123,
print_interval = 10
)
})
mix$best_model$model_obj[[1]]$mu[[1]]
class(mix$best_model$model_obj[[1]]$mu[[1]])
mix$best_model$model_obj[[1]]$sigs[[1]]
mix$best_model$model_obj[[1]]$mu[[2]]
mix$best_model$model_obj[[1]]$mu[[3]]
mix$best_model$model_obj[[1]]$mu[[15]]
load_all()
ombc2_s1n_123m500_time <- system.time({
ombc2_s1n_123m500 <- ombc2_gmm(
x = s1n,
comp_num = 15,
max_out = 500,
mnames = "VVV",
seed = 123,
reinit_interval = 10,
print_interval = 10
)
ombc2_s1n_123m500_rev <- ombc2_gmm_reverse(
ombc_s1n_123m500,
x = s1n,
comp_num = 15,
max_out = 500,
mnames = "VVV",
seed = 123,
print_interval = 10
)
})
ombc2_s1n_123m500$z
dim(ombc2_s1n_123m500$z)
class(ombc2_s1n_123m500$z)
sum(ombc2_s1n_123m500$outlier_rank == 0)
mixture::gpcm()
?mixture::gpcm()
load_all()
ombc2_s1n_123m500_rev <- ombc2_gmm_reverse(
ombc2_s1n_123m500,
x = s1n,
comp_num = 15,
max_out = 500,
mnames = "VVV",
seed = 123,
print_interval = 10
)
nrow(x)
load_all()
ombc2_s1n_123m500_rev <- ombc2_gmm_reverse(
ombc2_s1n_123m500,
x = s1n,
comp_num = 15,
max_out = 500,
mnames = "VVV",
seed = 123,
print_interval = 10
)
nrow(z)
ombc2_s1n_123m500$rem_dens[501]
load_all()
ombc2_s1n_123m500_time <- system.time({
ombc2_s1n_123m500 <- ombc2_gmm(
x = s1n,
comp_num = 15,
max_out = 500,
mnames = "VVV",
seed = 123,
reinit_interval = 10,
print_interval = 10
)
ombc2_s1n_123m500_rev <- ombc2_gmm_reverse(
ombc2_s1n_123m500,
x = s1n,
comp_num = 15,
max_out = 500,
mnames = "VVV",
seed = 123,
print_interval = 10
)
})
ombc2_s1n_123m500_rev <- ombc2_gmm_reverse(
ombc2_s1n_123m500,
x = s1n,
comp_num = 15,
max_out = 500,
mnames = "VVV",
seed = 123,
print_interval = 10
)
load_all()
ombc2_s1n_123m500_rev <- ombc2_gmm_reverse(
ombc2_s1n_123m500,
x = s1n,
comp_num = 15,
max_out = 500,
mnames = "VVV",
seed = 123,
print_interval = 10
)
colSums(z)
load_all()
ombc2_s1n_123m500_rev <- ombc2_gmm_reverse(
ombc2_s1n_123m500,
x = s1n,
comp_num = 15,
max_out = 500,
mnames = "VVV",
seed = 123,
print_interval = 10
)
colSums(z)
colSums(ombc2_s1n_123m500$z)
sum(z)
nrow(x0)
nrow(x)
sum(outlier_rank == 0)
load_all()
ombc2_s1n_123m500_rev <- ombc2_gmm_reverse(
ombc2_s1n_123m500,
x = s1n,
comp_num = 15,
max_out = 500,
mnames = "VVV",
seed = 123,
print_interval = 10
)
load_all()
ombc2_s1n_123m500_rev <- ombc2_gmm_reverse(
ombc2_s1n_123m500,
x = s1n,
comp_num = 15,
max_out = 500,
mnames = "VVV",
seed = 123,
print_interval = 10
)
nrow(x)
nrow(z)
mix$best_model$model_objs[[1]]$mu[[k]]
mix$best_model$model_objs[[1]]$mu[[1]]
load_all()
ombc2_s1n_123m500_rev <- ombc2_gmm_reverse(
ombc2_s1n_123m500,
x = s1n,
comp_num = 15,
max_out = 500,
mnames = "VVV",
seed = 123,
print_interval = 10
)
load_all()
ombc2_s1n_123m500_rev <- ombc2_gmm_reverse(
ombc2_s1n_123m500,
x = s1n,
comp_num = 15,
max_out = 500,
mnames = "VVV",
seed = 123,
print_interval = 10
)
dim(dens_mat)
load_all()
ombc2_s1n_123m500_rev <- ombc2_gmm_reverse(
ombc2_s1n_123m500,
x = s1n,
comp_num = 15,
max_out = 500,
mnames = "VVV",
seed = 123,
print_interval = 10
)
plot(ombc2_s1n_123m500_rev$rem_dens)
plot(500:1, ombc2_s1n_123m500_rev$rem_dens, type = "l")
plot(500:0, ombc2_s1n_123m500_rev$rem_dens, type = "l")
ombc2_s1n_123m500_rev$rem_dens[501]
ombc2_s1n_123m500_rev$rem_dens[1]
ombc2_s1n_123m500_rev$rem_dens[50]
ombc2_s1n_123m500_rev$rem_dens[500]
plot(0:500, ombc2_s1n_123m500$rem_dens, type = "l")
plot(1:500, ombc2_s1n_123m500$rem_dens, type = "l")
source("C:/Users/Administrator/OneDrive - Trinity College Dublin/PhD/Programming/outlierMBC_demos/Removal_Density/ombc2_s1n_123m500.R")
load_all()
source("C:/Users/Administrator/OneDrive - Trinity College Dublin/PhD/Programming/outlierMBC_demos/Removal_Density/ombc2_s1n_123m500.R")
library(devtools)
load_all()
folder <- paste0(
"C:/Users/Administrator/OneDrive - Trinity College Dublin/PhD/Programming",
"/outlierMBC_demos"
)
s2n <- read.table(paste0(folder, "/uef_sipu_data/outlier_datasets/s2n.txt"))
ombc2_s2n_123m500_time <- system.time({
ombc2_s2n_123m500 <- ombc2_gmm(
x = s2n,
comp_num = 15,
max_out = 500,
mnames = "VVV",
seed = 123,
reinit_interval = 10,
print_interval = 10
)
ombc2_s2n_123m500_rev <- ombc2_gmm_reverse(
ombc2_s2n_123m500,
x = s2n,
comp_num = 15,
max_out = 500,
mnames = "VVV",
seed = 123,
print_interval = 10
)
})
saveRDS(
ombc2_s2n_123m500,
paste0(folder, "/Removal_Density/ombc2_s2n_123m500.rds")
)
write.table(
ombc2_s2n_123m500_time,
paste0(folder, "/Removal_Density/ombc2_s2n_123m500_time.txt")
)
source("C:/Users/Administrator/OneDrive - Trinity College Dublin/PhD/Programming/outlierMBC_demos/Removal_Density/ombc2_s3n_123m500.R")
source("C:/Users/Administrator/OneDrive - Trinity College Dublin/PhD/Programming/outlierMBC_demos/Removal_Density/ombc2_s4n_123m500.R")
plot(500:0, ombc2_s3n_123m500_rev, type = "l")
plot(500:1, ombc2_s3n_123m500_rev, type = "l")
plot(500:1, ombc2_s3n_123m500_rev$rem_dens, type = "l")
plot(1:500, ombc2_s3n_123m500$rem_dens, type = "l")
plot(s4n, col = 1 + s4n_label)
s4n_label <- read.table(
paste0(folder, "/uef_sipu_data/outlier_datasets/s4n_label.txt")
) |> dplyr::pull()
plot(s4n, col = 1 + s4n_label)
palette(paletteer::paletteer_d("colorBlindness::paletteMartin"))
plot(s4n, col = 1 + s4n_label)
folder <- paste0(
"C:/Users/Administrator/OneDrive - Trinity College Dublin/PhD/Programming",
"/outlierMBC_demos"
)
s4n <- read.table(paste0(folder, "/uef_sipu_data/outlier_datasets/s4n.txt"))
s4n_label <- read.table(
paste0(folder, "/uef_sipu_data/outlier_datasets/s4n_label.txt")
) |> dplyr::pull()
ombc_s4n_123m500 <- readRDS(
paste0(folder, "/Removal_Density/ombc_s4n_123m500.rds")
)
s4n_ombc_rank <- ombc_s4n_123m500$outlier_rank
s4n_ombc_mindens <- ombc_s4n_123m500$min_dens
plot(
0:500, ombc_s4n_123m500$min_dens, type = "l",
main = paste0("s4n Removal Density")
)
abline(v = c(200, 240))
s4n_cpop <- cpop::cpop(s4n_ombc_mindens, 0:500, grid = 200:240, minseglen = 41)
s4n_cpop
s4n_choice <- s4n_cpop@changepoints[2]
?mvtnorm::dmvnorm
folder <- paste0(
"C:/Users/Administrator/OneDrive - Trinity College Dublin/PhD/Programming",
"/outlierMBC_demos"
)
s4n <- read.table(paste0(folder, "/uef_sipu_data/outlier_datasets/s4n.txt"))
s4n_label <- read.table(
paste0(folder, "/uef_sipu_data/outlier_datasets/s4n_label.txt")
) |> dplyr::pull()
ombc_s4n_123m500 <- readRDS(
paste0(folder, "/Removal_Density/ombc_s4n_123m500.rds")
)
s4n_ombc_rank <- ombc_s4n_123m500$outlier_rank
s4n_ombc_mindens <- ombc_s4n_123m500$min_dens
ombc_s4n_123m500$outlier_bool
s4n_bool
s4n_ombc_rank <- ombc_s4n_123m500$outlier_rank
s4n_ombc_mindens <- ombc_s4n_123m500$min_dens
plot(
0:500, ombc_s4n_123m500$min_dens, type = "l",
main = paste0("s4n Removal Density")
)
abline(v = c(200, 240))
s4n_cpop <- cpop::cpop(s4n_ombc_mindens, 0:500, grid = 200:240, minseglen = 41)
s4n_cpop
s4n_choice <- s4n_cpop@changepoints[2]
s4n_choice
s4n_bool <- !(s4n_ombc_rank == 0 | s4n_ombc_rank > s4n_choice)
s4n_tp <- sum((s4n_label == 0) & s4n_bool)
s4n_fp <- sum((s4n_label != 0) & s4n_bool)
s4n[s4n_bool, ]
s4n_dist <- s4n[s4n_bool, ]
s4n_dist <- dist(s4n[s4n_bool, ])
s4n_hclust <- hclust(s4n_dist)
plot(s4n_hclust)
s4n_cutree <- cutree(s4n_hclust, k = 15)
str(s4n_cutree)
abline(s4n_cutree)
abline(h = s4n_cutree)
abline(h = s4n_hclust$height[15])
abline(h = s4n_hclust$height[sum(s4n_bool) - 15])
abline(h = (s4n_hclust$height[sum(s4n_bool) - 15] + s4n_hclust$height[sum(s4n_bool) - 16]) / 2)
plot(s4n_hclust)
abline(h = (s4n_hclust$height[sum(s4n_bool) - 15] + s4n_hclust$height[sum(s4n_bool) - 16]) / 2)
plot(s4n_hclust)
abline(h = (s4n_hclust$height[sum(s4n_bool) - 15] + s4n_hclust$height[sum(s4n_bool) - 14]) / 2)
s4n_obsnum <- sum(s4n_bool)
plot(s4n_hclust)
abline(h = (s4n_hclust$height[s4n_obsnum - 15] + s4n_hclust$height[s4n_obsnum - 14]) / 2)
s4n_hlust_z <- matrix(0, nrow = s4n_obsnum, ncol = 15)
for (i in seq_len(s4n_obsnum)) {
s4n_hlust_z[i, s4n_cutree[i]] <- 1
}
s4n_dist <- dist(s4n[!s4n_bool, ])
s4n_hclust <- hclust(s4n_dist)
s4n_cutree <- cutree(s4n_hclust, k = 15)
s4n_obsnum <- sum(!s4n_bool)
plot(s4n_hclust)
abline(h = (s4n_hclust$height[s4n_obsnum - 15] + s4n_hclust$height[s4n_obsnum - 14]) / 2)
s4n_hlust_z <- matrix(0, nrow = s4n_obsnum, ncol = 15)
for (i in seq_len(s4n_obsnum)) {
s4n_hlust_z[i, s4n_cutree[i]] <- 1
}
s4n_hc_labels <- rep(0, 5350)
s4n_hc_labels[!s4n_bool] <- s4n_cutree
mixture::ARI(s4n_label, s4n_hc_labels)
plot(s4n, col = s4n_hc_labels)
plot(s4n, col = 1 + s4n_hc_labels)
palette(paletteer::paletteer_d("colorBlindness::paletteMartin"))
plot(s4n, col = 1 + s4n_hc_labels)
>hclust
?hclust
s4n_hclust <- hclust(s4n_dist, method = "ward.D2")
s4n_cutree <- cutree(s4n_hclust, k = 15)
s4n_obsnum <- sum(!s4n_bool)
plot(s4n_hclust)
abline(h = (s4n_hclust$height[s4n_obsnum - 15] + s4n_hclust$height[s4n_obsnum - 14]) / 2)
s4n_hlust_z <- matrix(0, nrow = s4n_obsnum, ncol = 15)
for (i in seq_len(s4n_obsnum)) {
s4n_hlust_z[i, s4n_cutree[i]] <- 1
}
s4n_hc_labels <- rep(0, 5350)
s4n_hc_labels[!s4n_bool] <- s4n_cutree
plot(s4n, col = 1 + s4n_hc_labels)
mixture::ARI(s4n_label, s4n_hc_labels)
library(devtools)
load_all()
folder <- paste0(
"C:/Users/Administrator/OneDrive - Trinity College Dublin/PhD/Programming",
"/outlierMBC_demos"
)
s1n <- read.table(paste0(folder, "/uef_sipu_data/outlier_datasets/s1n.txt"))
ombc2_s1n_123m500_time <- system.time({
ombc2_s1n_123m500 <- ombc2_gmm(
x = s1n,
comp_num = 15,
max_out = 500,
mnames = "VVV",
seed = 123,
reinit_interval = 10,
print_interval = 10
)
ombc2_s1n_123m500_rev <- ombc2_gmm_reverse(
ombc2_s1n_123m500,
x = s1n,
comp_num = 15,
max_out = 500,
mnames = "VVV",
seed = 123,
print_interval = 10
)
})
source("C:/Users/Administrator/OneDrive - Trinity College Dublin/PhD/Programming/outlierMBC_demos/Removal_Density/ombc2_123m500.R")
ombc2_123m500("s1n")
library(devtools)
load_all()
ombc2_123m500("s1n")
source("C:/Users/Administrator/OneDrive - Trinity College Dublin/PhD/Programming/outlierMBC_demos/Removal_Density/ombc2_123m500_twoway.R")
ombc2_123m500_twoway("s1n")
